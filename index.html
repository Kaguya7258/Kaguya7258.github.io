<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Title</title>
</head>

<body>
    <header>
        <div class="title">
            <a href="./index.html">
                <h1>Kaguya.</h1>
            </a>
            <h2>Freelance artist, occasional animator</h2>
        </div>

        <nav class="navlink">
            <a href="./index.html">
                <p>Home</p>
            </a>
            <a href="./portfolio.html">
                <p>portfolio</p>
            </a>
            <a href="./contact.html">
                <p>Contact</p>
            </a>
        </nav>
    </header>


    <section class="fade-section">
        <div class="wrapper">
            <h2>Second Title</h2>
            <div class="text-img">
            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Numquam fuga magni, animi beatae laboriosam
                cupiditate accusamus explicabo eum voluptas minus a, voluptatum vero, nesciunt sunt repudiandae. Tenetur
                quasi odio neque.</p>
            <img src="./Images/Short Animation/Idle.png">
            </div>
        </div>
    </section>

    <section class="fade-section">
        <div class="wrapper">
            <h2>featured</h2>
            <div class="grid">
                <img src="./Images/Onmyoji OC/IMG_2327.JPG" class="zoomable" data-caption="hello???">
                <img src="./Images/Black Butler/Happy_New_Year~!.png" class="zoomable">
                <img src="./Images/Fire and Water/77224E0A-F0FC-4A04-B418-B6AE87F3B7BE.JPG" class="zoomable">
                <img src="./Images/Fire and Water/ACA0B08D-7180-411C-8931-4260C059E26A.JPG" class="zoomable">
                <img src="./Images/Black Butler/IMG_2920.PNG" class="zoomable">
                <img src="./Images/Mysta Rias Graduation Art/IMG_2432.JPG" class="zoomable">
                <img src="./Images/Journey of a Failure/Untitled_Artwork 2.gif" class="zoomable">
                <img src="./Images/Short Animation/Swipe.gif" class="zoomable">
            </div>
        </div>
    </section>


    <section class="link">
        <div class="wrapper">
            <a href="https://www.artstation.com/kaguya7258">ARTSTATION</a>
            <a href="https://www.instagram.com/seraphic_darkness/">INSTAGRAM</a>
            <a href="https://kaguya7258.itch.io/">ITCH.IO</a>
        </div>
    </section>


    <footer>
        © 2025 | kabooya
    </footer>

    <!-- Scroll to top -->
    <a href="#" class="scrollToTop" id="scrollToTop">^</a>


    <script>
        height = 1000;

        document.addEventListener("DOMContentLoaded", () => {
            const scrollBtn = document.getElementById("scrollToTop");

            window.addEventListener("scroll", () => {
                if (window.scrollY > height) {
                    scrollBtn.classList.add("visible");
                } else {
                    scrollBtn.classList.remove("visible");
                }
            });
        });
    </script>

<!-- ✅ Lightbox overlay -->
<div id="lightbox" class="lightbox">
    <div class="lightbox-content">
        <img src="" alt="Zoomed image" id="lightbox-img">
        <p id="lightbox-caption"></p>
    </div>
</div>

<!-- Lightbox Functionality Script -->
<script>
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightbox-img');
    const lightboxCaption = document.getElementById('lightbox-caption');
    const zoomables = document.querySelectorAll('.zoomable');

    zoomables.forEach(img => {
        img.addEventListener('click', () => {
            lightboxImg.src = img.src;
            lightboxCaption.textContent = img.dataset.caption || '';

            // Always set display before adding .show for fade-in
            lightbox.style.display = 'flex';
            // Force reflow to ensure transition works
            void lightbox.offsetWidth;
            lightbox.classList.add('show');
        });
    });

    // Close when clicking outside the image
    lightbox.addEventListener('click', (e) => {
        if (e.target !== lightboxImg) {
            lightbox.classList.remove('show');
            // Wait for fade-out transition, then hide
            setTimeout(() => {
                lightbox.style.display = 'none';
                lightboxImg.src = '';
                lightboxCaption.textContent = '';
            }, 400); // match the CSS transition duration
        }
    });
</script>
    <!-- fade section script v2-->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const sections = document.querySelectorAll(".fade-section");

            // Pick a threshold based on screen width
            function getThreshold() {
                if (window.innerWidth < 600) return 0.1;   // phones
                if (window.innerWidth < 1024) return 0.2;  // tablets
                return 0.5;                                // desktops
            }

            let observer = createObserver();

            function createObserver() {
                return new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add("visible");
                            observer.unobserve(entry.target);
                        }
                    });
                }, { threshold: getThreshold() });
            }

            // Observe all sections
            sections.forEach(section => observer.observe(section));

            // Optional: Re-create observer on resize
            window.addEventListener("resize", () => {
                const newThreshold = getThreshold();

                // Rebuild observer only if threshold changed
                if (observer.threshold !== newThreshold) {
                    observer.disconnect();
                    observer = createObserver();
                    sections.forEach(section => {
                        if (!section.classList.contains("visible")) {
                            observer.observe(section);
                        }
                    });
                }
            });
        });
    </script>

</body>

</html>